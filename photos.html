---
layout: default
title: Photos
---

<div class="photos-page">
  <h1>Photos</h1>
  
  <div class="photos-intro">
    <p>Here are some photos from our lab activities, including academic events, team building, research experiments, and more.</p>
  </div>

  <!-- 轮播区域 -->
  <div class="carousel-container">
    <img id="carousel-image" src="" alt="">
    <button id="carousel-prev" class="carousel-nav-btn prev-btn"></button>
    <button id="carousel-next" class="carousel-nav-btn next-btn"></button>
    <div class="carousel-caption">
      <p id="carousel-description"></p>
    </div>
  </div>

  <!-- 照片墙区域 -->
  <div class="photos-wall">
    {% for photo in site.data.photo.photos %}
      <div class="photo-item" data-index="{{ forloop.index0 }}" data-description="{{ photo.description }}">
        <img src="{{ photo.image }}" alt="Photo {{ forloop.index }}" loading="lazy">
      </div>
    {% endfor %}
  </div>
</div>

<style>
.photos-page {
  max-width: 42rem;
  margin: 0 auto;
  padding: 0.5rem 0;
  font-size: 1.2rem;
  line-height: 1.6;
  color: #000000;
  /* font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; */
}

/* 主标题样式通过全局_typography.scss应用 */
/* .photos-page h1 {
  font-size: 1.43rem;
  font-weight: 630;
  margin-bottom: 2rem;
  color: #000000;
  text-align: left;
  letter-spacing: -0.02em;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
} */

.photos-intro {
  margin-bottom: 1.5rem;
}

/* 轮播容器样式 */
.carousel-container {
  position: relative;
  margin-bottom: 1.5rem;
  width: 100%;
  overflow: hidden;
  aspect-ratio: 16/9;
}

#carousel-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 图片说明栏 */
.carousel-caption {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.8);
  padding: 0.5rem 1rem;
  color: #000000;
}

.carousel-caption p {
  margin: 0;
  font-size: 0.8rem;
  line-height: 1.4;
}

/* 导航按钮样式 */
.carousel-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 45px;
  height: 45px;
  border: none;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  z-index: 10;
}

.carousel-nav-btn:hover {
  background: rgba(0, 86, 179, 0.8);
  transform: translateY(-50%) scale(1.1);
}

.prev-btn {
  left: 15px;
}

.next-btn {
  right: 15px;
}

.carousel-nav-btn::before {
  content: '';
  display: inline-block;
  width: 16px;
  height: 16px;
  border-top: 3px solid white;
  border-left: 3px solid white;
}

.prev-btn::before {
  transform: rotate(-45deg);
  margin-left: 3px;
}

.next-btn::before {
  transform: rotate(135deg);
  margin-right: 3px;
}

/* 照片墙样式 - 更小、半透明设计，一行9张 */
.photos-wall {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 0.3rem;
  margin-bottom: 2rem;
}

.photo-item {
  overflow: hidden;
  cursor: pointer;
  aspect-ratio: 1;
  transition: all 0.2s ease;
  opacity: 0.6;
}

.photo-item:hover {
  opacity: 1;
  transform: scale(1.05);
  z-index: 10;
}

.photo-item.active {
  opacity: 1;
  outline: 2px solid #0056b3;
  outline-offset: 2px;
}

.photo-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 响应式调整 */
@media (max-width: 1024px) {
  .photos-wall {
    grid-template-columns: repeat(8, 1fr);
  }
}

@media (max-width: 768px) {
  .photos-wall {
    grid-template-columns: repeat(6, 1fr);
    gap: 0.2rem;
  }
}

@media (max-width: 480px) {
  .photos-wall {
    grid-template-columns: repeat(4, 1fr);
    gap: 0.2rem;
  }
}

/* 响应式设计 */
@media (max-width: 1024px) {
  .photos-page {
    max-width: 42rem;
    padding: 2rem 0.5rem;
  }
  
  .carousel-main {
    max-width: 100%;
  }
  
  #carousel-image {
    max-height: 350px;
  }
}

@media (max-width: 768px) {
  .photos-page {
    padding: 1.5rem 0.5rem;
  }
  
  .carousel-container {
    padding: 0.75rem;
  }
  
  #carousel-image {
    max-height: 250px;
  }
  
  .carousel-info {
    padding: 0.75rem;
  }
  
  .carousel-info h3 {
    font-size: 1.1em;
  }
  
  .carousel-info p {
    font-size: 0.85em;
  }
  
  .thumbnail-item {
    width: 85px;
    height: 55px;
  }
}

@media (max-width: 480px) {
  .photos-page {
    padding: 1rem 0.25rem;
  }
  
  .carousel-container {
    padding: 0.5rem;
  }
  
  .carousel-nav-btn {
    width: 30px;
    height: 30px;
  }
  
  .prev-btn {
    left: 5px;
  }
  
  .next-btn {
    right: 5px;
  }
  
  .carousel-nav-btn::before {
    width: 10px;
    height: 10px;
  }
  
  #carousel-image {
    max-height: 200px;
  }
  
  .carousel-info {
    padding: 0.5rem;
  }
  
  .carousel-info h3 {
    font-size: 1em;
  }
  
  .carousel-info p {
    font-size: 0.8em;
  }
  
  .thumbnail-item {
    width: 75px;
    height: 50px;
  }
  
  .thumbnails-scroll {
    gap: 0.5rem;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // 获取DOM元素
  const carouselImage = document.getElementById('carousel-image');
  const carouselDescription = document.getElementById('carousel-description');
  const prevBtn = document.getElementById('carousel-prev');
  const nextBtn = document.getElementById('carousel-next');
  const photoItems = document.querySelectorAll('.photo-item');
  
  // 存储所有照片数据
  const photos = [];
  
  // 从照片项中提取照片数据
  photoItems.forEach((item, index) => {
    const img = item.querySelector('img');
    // 从数据属性中获取描述
    const description = item.dataset.description;
    
    const photo = {
      src: img.src,
      alt: img.alt,
      description: description,
      index: index
    };
    photos.push(photo);
  });
  
  // 由于Jekyll会在构建时处理YAML数据，我们需要手动从HTML中提取标题和描述
  // 这里我们使用一个简单的方法：假设标题和描述是按照顺序存储的
  // 实际项目中，更好的做法是通过数据属性或其他方式将完整数据传递给JavaScript
  let currentIndex = 0;
  
  // 初始化轮播
  function initCarousel() {
    // 由于我们无法直接访问YAML数据，这里我们使用一个临时解决方案
    // 实际项目中，应该通过数据属性或其他方式传递完整的标题和描述
    updateCarousel(currentIndex);
  }
  
  // 更新轮播内容
  function updateCarousel(index) {
    if (index < 0 || index >= photos.length) return;
    
    currentIndex = index;
    
    // 更新主图片和信息
    carouselImage.src = photos[index].src;
    carouselImage.alt = `Photo ${index + 1}`;
    carouselDescription.textContent = photos[index].description || '';
    
    // 更新照片项激活状态
    photoItems.forEach((item, i) => {
      if (i === currentIndex) {
        item.classList.add('active');
      } else {
        item.classList.remove('active');
      }
    });
    
    // 更新导航按钮状态
    updateNavButtons();
  }
  
  // 更新导航按钮状态
  function updateNavButtons() {
    prevBtn.style.opacity = currentIndex === 0 ? '0.5' : '1';
    nextBtn.style.opacity = currentIndex === photos.length - 1 ? '0.5' : '1';
  }
  
  // 导航到上一张或下一张
  function navigate(direction) {
    if (direction === 'prev' && currentIndex > 0) {
      updateCarousel(currentIndex - 1);
    } else if (direction === 'next' && currentIndex < photos.length - 1) {
      updateCarousel(currentIndex + 1);
    }
  }
  
  // 事件监听器
  prevBtn.addEventListener('click', () => navigate('prev'));
  nextBtn.addEventListener('click', () => navigate('next'));
  
  // 照片项点击事件
  photoItems.forEach((item, index) => {
    item.addEventListener('click', () => updateCarousel(index));
  });
  
  // 键盘导航
  document.addEventListener('keydown', function(event) {
    if (event.key === 'ArrowLeft') {
      navigate('prev');
    } else if (event.key === 'ArrowRight') {
      navigate('next');
    }
  });
  
  // 初始化轮播
  initCarousel();
  
  // 由于我们已经通过数据属性从Jekyll模板获取了完整的标题和描述数据，
  // 不需要额外的数据增强函数
});
</script>